language: python
os: linux
dist: xenial
jobs:
  include:
  - python: 2.7
  - python: 3.6
  - python: 3.7
  - python: 3.8
  - python: 3.9

install: skip
script:
- python -c "import sys; print('Python verion ={}, sys.platform={}, is 64bit? = {}'.format(sys.version_info.major,
  sys.platform, (sys.maxsize > 2**32)))"
- cd $(bash deploy_dir.sh)
- cp ../setup.py .
- cp ../py2.py3-none-any .
- ls -lR

deploy:
  provider: pypi
  username: asmith_mapaction
  distributions: "sdist"
  skip_existing: true
  skip_cleanup: true
